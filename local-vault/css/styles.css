:root {
    --bg: #f8f9fa; --surf: #fff; --txt: #212529; --prim: #0d6efd; --dang: #dc3545;
}
@media (prefers-color-scheme: dark) {
    :root { --bg: #121212; --surf: #1e1e1e; --txt: #e0e0e0; --prim: #bb86fc; --dang: #cf6679; }
}
body { background: var(--bg); color: var(--txt); font-family: system-ui, sans-serif; margin: 0; padding: 20px; }
#app { max-width: 600px; margin: 0 auto; }
.hidden { display: none !important; }

/* Auth */
.auth-box { background: var(--surf); padding: 40px; border-radius: 12px; text-align: center; box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
input, textarea { width: 100%; padding: 12px; margin: 8px 0; border: 1px solid #ccc; border-radius: 6px; box-sizing: border-box; background: var(--bg); color: var(--txt); }
button { padding: 10px 16px; border-radius: 6px; border: none; cursor: pointer; font-weight: 600; background: #e0e0e0; color: #333; }
button.primary { background: var(--prim); color: white; }
button.danger { background: var(--dang); color: white; }

/* Dashboard */
header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
.brand { font-size: 1.5rem; font-weight: bold; }
.entry-row { background: var(--surf); padding: 15px; margin-bottom: 8px; border-radius: 8px; display: flex; justify-content: space-between; align-items: center; cursor: pointer; transition: 0.1s; }
.entry-row:hover { transform: translateY(-2px); box-shadow: 0 2px 8px rgba(0,0,0,0.1); }

/* Modal */
#modal-overlay { position: fixed; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.5); display: flex; justify-content: center; align-items: center; z-index: 100; }
.modal { background: var(--surf); padding: 25px; border-radius: 12px; width: 90%; max-width: 400px; }
.password-group { display: flex; gap: 5px; }
.gen-panel { background: var(--bg); padding: 10px; margin-bottom: 10px; border-radius: 6px; border: 1px solid #555; }
.gen-opts { display: grid; grid-template-columns: 1fr 1fr; gap: 5px; margin-bottom: 10px; }
.modal-actions { margin-top: 20px; display: flex; justify-content: space-between; }

/* Toast */
.toast { position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); background: #333; color: #fff; padding: 12px 24px; border-radius: 50px; z-index: 200; }
.toast.error { background: var(--dang); }

/* Strength Meter */
.strength-bar {
    height: 4px;
    background: #ddd;
    margin-top: 5px;
    border-radius: 2px;
    transition: width 0.3s, background 0.3s;
    width: 0%;
}
.strength-weak { width: 33%; background: #dc3545; }
.strength-medium { width: 66%; background: #ffc107; }
.strength-strong { width: 100%; background: #28a745; }

/* Categories & Search Layout */
.search-wrap {
    display: flex;
    gap: 10px;
    margin-bottom: 15px;
}
.search-wrap input {
    margin: 0;
    flex-grow: 1; /* Search bar takes available space */
}
.search-wrap select {
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 6px;
    background: var(--surface);
    color: var(--txt);
    cursor: pointer;
    min-width: 120px;
}

/* Modal Category Select */
.modal select {
    width: 100%;
    padding: 12px;
    margin: 8px 0;
    border: 1px solid #ccc;
    border-radius: 6px;
    background: var(--bg);
    color: var(--txt);
}

body.dark-mode {
    --bg: #121212; 
    --surf: #1e1e1e; 
    --txt: #e0e0e0; 
    --prim: #bb86fc; 
    --dang: #cf6679;
}

/* Service Icons */
.entry-icon {
    width: 40px;
    height: 40px;
    background-color: var(--prim);
    color: white;
    border-radius: 50%;
    display: flex;
    justify-content: center;
    align-items: center;
    font-weight: bold;
    font-size: 1.2rem;
    margin-right: 15px;
    flex-shrink: 0; /* Prevents squishing */
}

/* Update entry row layout to fit the icon */
.entry-row {
    display: flex;
    align-items: center;
    /* ... existing styles ... */
}
.e-details {
    flex-grow: 1; /* Pushes the copy button to the right */
}

/* --- Manual Theme Overrides --- */

/* Force Dark Mode */
/* Force Dark Mode */
body.dark-mode {
    /* This command tells the Browser Engine to use Dark form controls */
    color-scheme: dark; 
    
    --bg: #121212; 
    --surf: #1e1e1e; 
    --txt: #e0e0e0; 
    --prim: #bb86fc; 
    --dang: #cf6679;
}

/* Force Light Mode */
body.light-mode {
    --bg: #f8f9fa; 
    --surf: #fff; 
    --txt: #212529; 
    --prim: #0d6efd; 
    --dang: #dc3545;
}

/* Hard override for dropdowns */
body.dark-mode select, 
body.dark-mode option {
    background-color: #1e1e1e !important;
    color: #e0e0e0 !important;
}

body.light-mode {
    color-scheme: light;
}

/* --- Action Buttons Group --- */
.actions-group {
    display: flex;
    gap: 8px; /* Space between Copy and Delete */
    align-items: center;
}

/* Specific style for the small Delete button */
.del-btn-small {
    background-color: #ffebee;
    color: #d32f2f;
    border: 1px solid #ffcdd2;
    padding: 8px 12px;
    font-size: 1rem;
    line-height: 1;
}

.del-btn-small:hover {
    background-color: #d32f2f;
    color: white;
    border-color: #b71c1c;
}

/* Dark Mode support for the new button */
body.dark-mode .del-btn-small {
    background-color: #2c0b0e; /* Dark red bg */
    color: #ff8a80;
    border-color: #5c1e23;
}
body.dark-mode .del-btn-small:hover {
    background-color: #cf6679;
    color: black;
}